#!/usr/bin/env python
# -*- coding: utf-8 -*-

"""
Главный файл для запуска программы конвертации.
Начинает работу с проверки соединения с базой данных.
"""

import sys
from test_connection import test_connection
from convertor import convertor

def main():
    """
    Основная функция программы
    """
    print("Запуск программы конвертации...")
    print("Проверка соединения с базой данных...")
    
    # Проверяем соединение с базой данных
    if not test_connection():
        print("Ошибка: Не удалось подключиться к базе данных.")
        print("Пожалуйста, проверьте настройки в файле .env")
        sys.exit(1)
    
    print("Соединение с базой данных установлено успешно.")
    print("Программа готова к работе.")
    
    # Запускаем основную функцию конвертации
    convertor()

    print("Программа выполнена успешно!")

if __name__ == "__main__":
    main() 